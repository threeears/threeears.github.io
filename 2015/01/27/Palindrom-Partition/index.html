<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Palindrom Partition | threears&#39;blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Problem 1: Check a string is a palindrome or not
If only want to check a string or a substring is a valid palindrome or not, two-pointer scanning is a good choice. This is easy. Just do not forget to">
<meta property="og:type" content="article">
<meta property="og:title" content="Palindrom Partition">
<meta property="og:url" content="http://threeears.github.io/blog/2015/01/27/Palindrom-Partition/">
<meta property="og:site_name" content="threears'blog">
<meta property="og:description" content="Problem 1: Check a string is a palindrome or not
If only want to check a string or a substring is a valid palindrome or not, two-pointer scanning is a good choice. This is easy. Just do not forget to">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Palindrom Partition">
<meta name="twitter:description" content="Problem 1: Check a string is a palindrome or not
If only want to check a string or a substring is a valid palindrome or not, two-pointer scanning is a good choice. This is easy. Just do not forget to">

  
    <link rel="alternative" href="/atom.xml" title="threears&#39;blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">threears&#39;blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://threeears.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Palindrom-Partition" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/27/Palindrom-Partition/" class="article-date">
  <time datetime="2015-01-28T07:56:47.000Z" itemprop="datePublished">Jan 27 2015</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Algorithm/">Algorithm</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Palindrom Partition
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Problem_1:_Check_a_string_is_a_palindrome_or_not">Problem 1: Check a string is a palindrome or not</h2>
<p>If only want to check a string or a substring is a valid palindrome or not, two-pointer scanning is a good choice. This is easy. Just do not forget to check NULL and empty strings. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">public boolean isPalindrom(int start, int end, String s){</div><div class="line">	<span class="keyword">if</span>(s==null||s.length()==<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        <span class="keyword">for</span>(int i = start,j=end;i&lt;j;i++,j--){</div><div class="line">            <span class="keyword">if</span>(s.charAt(i)!=s.charAt(j))</div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        }</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    }</div></pre></td></tr></table></figure>

<h2 id="Problem_2:_Palindrome_Partitioning_I">Problem 2: Palindrome Partitioning I</h2>
<p>This problem is on <a href="https://oj.leetcode.com/problems/palindrome-partitioning/" target="_blank" rel="external">Leetcode</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Given a string s, partition s such that every substring of the partition is a palindrome.</div><div class="line">Return all possible palindrome partitioning of s.</div><div class="line">For example, given s = <span class="string">"aab"</span>,</div><div class="line">Return</div><div class="line">  [</div><div class="line">    [<span class="string">"aa"</span>,<span class="string">"b"</span>],</div><div class="line">    [<span class="string">"a"</span>,<span class="string">"a"</span>,<span class="string">"b"</span>]</div><div class="line">  ]</div></pre></td></tr></table></figure>

<p>In order to return all the combinations, back tracking is the first idea came into my mind. Firstly, find a palindrome from start point, get the length of the palindrome and start the new search after it. Suppose there is a function called helper, the structure would be like:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;&gt;</span> helper(int start,<span class="built_in">String</span> s, <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> tmp,<span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;&gt;</span> sets){</div><div class="line">       <span class="keyword">if</span>(start<span class="subst">==</span>s<span class="built_in">.</span>length()){</div><div class="line">           <span class="comment">// if can be divided into palindromes</span></div><div class="line">           <span class="built_in">List</span><span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span> new_set <span class="subst">=</span> <span class="literal">new</span> ArrayList<span class="subst">&lt;</span><span class="built_in">String</span><span class="subst">&gt;</span>(tmp);</div><div class="line">           sets<span class="built_in">.</span>add(new_set);</div><div class="line">           <span class="keyword">return</span> sets;</div><div class="line">       }</div><div class="line">       </div><div class="line">       for(int i <span class="subst">=</span> start;i<span class="subst">&lt;</span>s<span class="built_in">.</span>length();i<span class="subst">++</span>){</div><div class="line">           <span class="keyword">if</span>(isPalindrom(start,i,s)<span class="subst">==</span><span class="literal">true</span>){</div><div class="line">               tmp<span class="built_in">.</span>add(s<span class="built_in">.</span>substring(start,i<span class="subst">+</span><span class="number">1</span>));</div><div class="line">               helper(i<span class="subst">+</span><span class="number">1</span>,s,tmp,sets);</div><div class="line">               tmp<span class="built_in">.</span>remove(tmp<span class="built_in">.</span>size()<span class="subst">-</span><span class="number">1</span>);</div><div class="line">           }</div><div class="line">       }</div><div class="line">       <span class="keyword">return</span> sets;</div><div class="line">   }</div></pre></td></tr></table></figure>

<p>Maybe there are some other better solutions, I will explore later.  </p>
<h2 id="Problem_3:_Palindrome_Partitioning_II">Problem 3: Palindrome Partitioning II</h2>
<p>This problem is on <a href="https://oj.leetcode.com/problems/palindrome-partitioning-ii/" target="_blank" rel="external">Leetcode</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Given a string s, partition s such that every substring of the partition is a palindrome.</div><div class="line">Return the minimum cuts needed <span class="keyword">for</span> a palindrome partitioning of s.</div><div class="line">For example, given s = <span class="string">"aab"</span>,</div><div class="line">Return <span class="number">1</span> since the palindrome partitioning [<span class="string">"aa"</span>,<span class="string">"b"</span>] could be produced using <span class="number">1</span> cut.</div></pre></td></tr></table></figure>

<p>Based on the previous experience, my initial idea is to find all the partition combinations and compare the length of each partition, finally, find the minimum one. The minimum cut is the number of palindromes in the list minus one.  It’s pretty easy to get this since we’ve got the result of the Problem 2. </p>
<p>However, this time we only need a number of minimum cut instead of all the combinations. Wouldn’t it be a little space-wasting to generate lists every time a combination is found? What’s more, because we do not need to know the exact substring, we can save sometime when checking the palindromes, that is, make use of previous result when new substring needs checking. Therefore, there’s no need to do exact N^2 times to find all palindromes in a string. Below is how I make use of memorization:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">private void isPalindrome(String s,boolean[][] pal) {</div><div class="line">     <span class="keyword">for</span>(int i = <span class="number">0</span>;i&lt;s.length();i++){</div><div class="line">         <span class="keyword">for</span>(int j=<span class="number">0</span>;j&lt;=i;j++){</div><div class="line">             <span class="keyword">if</span>(i==j) </div><div class="line">                   pal[i][j]=<span class="literal">true</span>;</div><div class="line">             <span class="keyword">else</span> <span class="keyword">if</span>(i-j+<span class="number">1</span>&lt;=<span class="number">3</span>) </div><div class="line">                   pal[j][i]=s.charAt(j)==s.charAt(i)?<span class="literal">true</span>:<span class="literal">false</span>;// distance is <span class="number">2</span> or <span class="number">3</span></div><div class="line">             <span class="keyword">else</span></div><div class="line">                   pal[j][i]=pal[j+<span class="number">1</span>][i-<span class="number">1</span>] && s.charAt(j)==s.charAt(i);</div><div class="line">           }</div><div class="line">     }</div><div class="line">   }</div></pre></td></tr></table></figure>

<p>Time complexiy would be: 1+2+3+…N = N(N+1)/2, which is O(N^2/2), almost save half of the time compared to generating two for loops and invoke function in Problem 1 every time.</p>
<p>To find the Minimum Cut, my solution is to use an array cut[i], which presents the minimum number of palindromes for string of length i. Use Dynamic Programming to find all the minimum cut from 0 to N. In the end, the result of minimum cut would be cut[N]-1. </p>
<h3 id="Something_worth_noticing:">Something worth noticing:</h3>
<ol>
<li>We need to create the size of array as: N+1, where N is the length of the final string.</li>
<li>Every single character can be viewed as a palindrome, the default value for cut[i] is i.</li>
</ol>
<p>The DP structure is :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">if</span>(substring from j to i is a palindrome){</div><div class="line"> 	cut[i] = Math.min(cut[j-<span class="number">1</span>]+<span class="number">1</span>,cut[i]); </div><div class="line">}</div></pre></td></tr></table></figure>

<p>Both of the DP process and check Palindrome function takes time O(N^2), we could also combine them together if using the same strategy like bottom-up calculating new results. However, personally I prefer keep each function for only one purpose. </p>
<h3 id="Conclusion:">Conclusion:</h3>
<ol>
<li>If new result we need is based on the previous result, memorizaton would be helpeful for optimization.</li>
<li>To get all the combinations, back tracking is a good choice. However, back tracking is time and space comsuming, avoid using it whenever it’s possible to use Dynamic Programming to save unnecessary computations.</li>
<li>The problem seems challenging at first, we used two DP and two memorization as a result. However, once we figured out the sub problems, and how we can generate new result based on sub results, it seems not that hard now, just a standard Dynamic Programming problem.</li>
</ol>
<h4 id="Finally,_go_to_my_GitHub_for_the_solution">Finally, go to my <a href="https://github.com/threeears/Leetcode/blob/master/Palindrom2/Palindrom2.java" target="_blank" rel="external">GitHub</a> for the solution</h4>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://threeears.github.io/blog/2015/01/27/Palindrom-Partition/" data-id="uy7k8q0oevhlgrhb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Back-Tracking/">Back Tracking</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dynamic-Programming/">Dynamic Programming</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Leetcode/">Leetcode</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2015/01/16/Bit-Manipulation/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Bit Manipulation</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Back-Tracking/">Back Tracking</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bit-Operation/">Bit Operation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CTCI/">CTCI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dynamic-Programming/">Dynamic Programming</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Leetcode/">Leetcode</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Problem-Specific/">Problem-Specific</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/01/27/Palindrom-Partition/">Palindrom Partition</a>
          </li>
        
          <li>
            <a href="/2015/01/16/Bit-Manipulation/">Bit Manipulation</a>
          </li>
        
          <li>
            <a href="/2015/01/15/Wildcard-Matching/">Wildcard Matching</a>
          </li>
        
          <li>
            <a href="/2014/11/26/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 threeears<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/script.js" type="text/javascript"></script>


  </div>
</body>
</html>